---
mode: 'agent'
description: 'プルリクエストを作成する'
---

# プルリクエスト作成エージェント

現在のブランチの変更内容をもとに、プルリクエストを作成します。

## 手順

下記の手順に従ってください。

### 1. 現在のブランチを確認

- 現在のGitブランチ名を取得します。

**注意**: ブランチ名が `main` の場合、プルリクエストを作成しないでください。その場合は「mainブランチではプルリクエストを作成できません」と返答してください。

### 2. 変更内容を確認

- `git diff main...HEAD` コマンドを使用して、現在のブランチと `main` ブランチとの差分を取得します。

### 3. プルリクエストのタイトルと説明を生成

- 変更内容を要約し、プルリクエストのタイトルと説明を生成します。
- タイトルは簡潔に、説明は変更内容の詳細を含めてください
- 変更内容が多い場合は、重要なポイントに絞って説明してください。
- タイトルと説明は日本語で作成し、クラス名やメソッド名などの固有名詞は英語のまま使用してください。

### 4. プルリクエストを作成

- GitHubのAPIを使用して、プルリクエストを作成します。
- ベースブランチは `main`、比較ブランチは現在のブランチとします。
- タイトルと説明を使用してプルリクエストを作成します。

### 5. 結果を返答

- プルリクエストのURLを含む成功メッセージを返答します。
- もしエラーが発生した場合は、エラーメッセージを返答します。

## プルリクエストのフォーマット

### タイトル

- タイトルは以下のフォーマットに従ってください。
- type, scope は、`.github/instructions/commit-message.instructions.md` に記載されているものを使用してください。

```
<type>(<scope>): <short description>
```

### 説明

- `.github/pull-request-template.md` に記載されているテンプレートを使用してください。
- テンプレート内の各セクションに適切な内容を記載してください。
