---
spec: admin_site_articles_destroy_spec
created: 2026-01-22T22:11:32.685Z
language: ja
---

# 要件: 管理画面で記事を削除する（admin_site_articles_destroy）

## 目的
- 管理者が管理画面から不要な記事を削除できるようにし、記事一覧の運用性を高める。

## 背景
- 既に「記事一覧」「記事詳細」「記事作成」などの機能が存在しており、記事のライフサイクルを完結させるために削除機能が必要となっている。

## 対象・範囲
- 対象: 管理画面（AdminSite）の記事（Article）リソース。
- 範囲: 単一記事の削除機能（一覧/詳細からの削除操作、削除後の遷移・メッセージ表示）。
- 本要件には「一括削除」「論理削除（soft delete）」の詳細設計は含めない（必要な場合は別specで扱う）。

## 前提
- Article モデルが既に存在し、管理画面から閲覧・作成・詳細表示ができること。
- 管理者のみが管理画面にアクセスできる既存の認証・認可があること。

## 機能要件
1. 管理画面の記事一覧または詳細画面から、対象記事を削除する操作が行えること。
2. 削除操作のトリガーは「削除」ボタン（または同等のリンク）であり、誤操作防止のために確認ダイアログ（ブラウザの confirm など）を表示することが望ましい。
3. 削除実行後は、対象記事がデータベース上から削除され、記事一覧に表示されなくなること。
4. 削除成功時には「記事を削除しました」などの成功メッセージを表示し、記事一覧ページへ遷移すること。
5. 削除対象の記事が存在しない場合や既に削除済みの場合は、404相当の応答またはエラーメッセージを返し、システムエラーとならないこと。

## 非機能要件・UX
- 削除ボタンは視認性が高く、編集など他の操作と誤認しにくいラベリングとスタイルにする。
- 削除実行にはワンクッション（確認）を挟み、誤操作を減らす。
- 表示文言は日本語で統一し、既存の管理画面のトーン&マナーに合わせる。

## エラーハンドリング
- 権限がないユーザーが削除エンドポイントにアクセスした場合は、既存ポリシーに従い 403 またはログイン画面へのリダイレクトを行う。
- 予期しないエラーが発生した場合でも 500 エラー画面ではなく、できる範囲でフラッシュメッセージ等を用いてユーザーに分かりやすく伝える（実装は既存方針に従う）。

## セキュリティ・認可
- 削除操作は認証済みかつ管理権限を持つユーザーに限定する。
- 直接URLやHTTPクライアントからの DELETE リクエストに対しても、同じ認可チェックを行う。
- CSRF 対策（トークン検証）を有効にしておく。

## テスト要件
- 正常系
  - 管理者ユーザーでログインしている場合に記事を削除できること。
  - 削除後に記事一覧へリダイレクトされ、成功メッセージが表示されること。
  - 削除した記事が一覧や詳細ページから参照できないこと。
- 異常系
  - 非管理ユーザーまたは未ログイン状態では削除できず、既存ポリシー通りのレスポンスとなること（403やログイン画面へのリダイレクトなど）。
  - 存在しない記事IDに対して削除操作を行った場合に 404 など適切なエラーとなること。

## 受け入れ基準
- 管理者が管理画面から任意の記事を削除でき、削除後に記事一覧へ遷移し、成功メッセージが表示されること。
- 削除した記事が一覧・詳細のいずれからも表示・アクセスできないこと。
- 認可や CSRF などのセキュリティ要件が満たされており、既存機能（記事一覧・詳細・作成・ページネーションなど）に悪影響を与えないこと。